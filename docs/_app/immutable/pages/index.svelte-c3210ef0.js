import{N as be,S as Q,i as X,s as x,e as y,k as O,t as D,c as k,a as E,m as A,h as F,d as v,b as m,g as C,J as g,O as J,E as W,P as ge,Q as U,w as z,x as H,y as K,q as w,R as ae,T as G,o as T,B as Y,U as ce,l as re,n as ie,p as oe,V as $e}from"../chunks/index-52d8eccb.js";import{w as Z}from"../chunks/index-72ddad0f.js";function j(r,{delay:e=0,duration:l=400,easing:t=be}={}){const a=+getComputedStyle(r).opacity;return{delay:e,duration:l,easing:t,css:i=>`opacity: ${i*a}`}}function ye(){const{subscribe:r,set:e,update:l}=Z(Array(9).fill(null));return{subscribe:r,set:(t,a)=>l(i=>(i[t]=a,i)),reset:()=>e(Array(9).fill(null))}}const me=Z(!0),ne=Z("easy"),L=Z(!1),V=Z(null),se=ye();function ke(r){let e,l,t,a,i,u,_,n,o,s,c,f,I,N;return{c(){e=y("fieldset"),l=y("label"),t=y("input"),a=O(),i=y("span"),u=D("\u0633\u0647\u0644"),_=O(),n=y("label"),o=y("input"),s=O(),c=y("span"),f=D("\u0635\u0639\u0628"),this.h()},l(h){e=k(h,"FIELDSET",{class:!0});var p=E(e);l=k(p,"LABEL",{class:!0});var $=E(l);t=k($,"INPUT",{type:!0,name:!0,id:!0,class:!0}),a=A($),i=k($,"SPAN",{class:!0});var B=E(i);u=F(B,"\u0633\u0647\u0644"),B.forEach(v),$.forEach(v),_=A(p),n=k(p,"LABEL",{class:!0});var R=E(n);o=k(R,"INPUT",{type:!0,name:!0,id:!0,class:!0}),s=A(R),c=k(R,"SPAN",{class:!0});var q=E(c);f=F(q,"\u0635\u0639\u0628"),q.forEach(v),R.forEach(v),p.forEach(v),this.h()},h(){m(t,"type","radio"),m(t,"name","level"),m(t,"id","easy"),t.__value="easy",t.value=t.__value,m(t,"class","svelte-33xobp"),r[2][0].push(t),m(i,"class","svelte-33xobp"),m(l,"class","svelte-33xobp"),m(o,"type","radio"),m(o,"name","level"),m(o,"id","difficult"),o.__value="difficult",o.value=o.__value,m(o,"class","svelte-33xobp"),r[2][0].push(o),m(c,"class","svelte-33xobp"),m(n,"class","svelte-33xobp"),m(e,"class","svelte-33xobp")},m(h,p){C(h,e,p),g(e,l),g(l,t),t.checked=t.__value===r[0],g(l,a),g(l,i),g(i,u),g(e,_),g(e,n),g(n,o),o.checked=o.__value===r[0],g(n,s),g(n,c),g(c,f),I||(N=[J(t,"change",r[1]),J(o,"change",r[3])],I=!0)},p(h,[p]){p&1&&(t.checked=t.__value===h[0]),p&1&&(o.checked=o.__value===h[0])},i:W,o:W,d(h){h&&v(e),r[2][0].splice(r[2][0].indexOf(t),1),r[2][0].splice(r[2][0].indexOf(o),1),I=!1,ge(N)}}}function Ee(r,e,l){let t;U(r,ne,_=>l(0,t=_));const a=[[]];function i(){t=this.__value,ne.set(t)}function u(){t=this.__value,ne.set(t)}return[t,i,a,u]}class he extends Q{constructor(e){super(),X(this,e,Ee,ke,x,{})}}function we(r){let e,l,t,a,i,u,_,n,o;return l=new he({}),{c(){e=y("div"),z(l.$$.fragment),t=O(),a=y("button"),i=D("\u0627\u0628\u062F\u0627 \u0627\u0644\u0644\u0639\u0628"),this.h()},l(s){e=k(s,"DIV",{class:!0});var c=E(e);H(l.$$.fragment,c),t=A(c),a=k(c,"BUTTON",{type:!0,class:!0});var f=E(a);i=F(f,"\u0627\u0628\u062F\u0627 \u0627\u0644\u0644\u0639\u0628"),f.forEach(v),c.forEach(v),this.h()},h(){m(a,"type","button"),m(a,"class","btn"),m(e,"class","svelte-y3ihuu")},m(s,c){C(s,e,c),K(l,e,null),g(e,t),g(e,a),g(a,i),_=!0,n||(o=J(a,"click",r[0]),n=!0)},p:W,i(s){_||(w(l.$$.fragment,s),ae(()=>{u||(u=G(e,j,{},!0)),u.run(1)}),_=!0)},o(s){T(l.$$.fragment,s),u||(u=G(e,j,{},!1)),u.run(0),_=!1},d(s){s&&v(e),Y(l),s&&u&&u.end(),n=!1,o()}}}function Ce(r){function e(){me.set(!1)}return[e]}class Ie extends Q{constructor(e){super(),X(this,e,Ce,we,x,{})}}function Ne(r){let e,l;return{c(){e=y("div"),this.h()},l(t){e=k(t,"DIV",{class:!0}),E(e).forEach(v),this.h()},h(){m(e,"class",l=ce(r[0])+" svelte-f31iul")},m(t,a){C(t,e,a)},p(t,[a]){a&1&&l!==(l=ce(t[0])+" svelte-f31iul")&&m(e,"class",l)},i:W,o:W,d(t){t&&v(e)}}}function Te(r,e,l){let{sign:t}=e;return r.$$set=a=>{"sign"in a&&l(0,t=a.sign)},[t]}class Re extends Q{constructor(e){super(),X(this,e,Te,Ne,x,{sign:0})}}function fe(r){let e,l,t,a,i,u,_,n,o,s,c,f;function I(p,$){if(p[0]==="win")return Oe;if(p[0]==="lose")return Se;if(p[0]==="draw")return Pe}let N=I(r),h=N&&N(r);return i=new he({}),{c(){e=y("div"),l=y("strong"),h&&h.c(),a=O(),z(i.$$.fragment),u=O(),_=y("button"),n=D("\u0645\u062D\u0627\u0648\u0644\u0629 \u0623\u062E\u0631\u0649"),this.h()},l(p){e=k(p,"DIV",{class:!0});var $=E(e);l=k($,"STRONG",{class:!0});var B=E(l);h&&h.l(B),B.forEach(v),a=A($),H(i.$$.fragment,$),u=A($),_=k($,"BUTTON",{type:!0,class:!0});var R=E(_);n=F(R,"\u0645\u062D\u0627\u0648\u0644\u0629 \u0623\u062E\u0631\u0649"),R.forEach(v),$.forEach(v),this.h()},h(){m(l,"class",t="__"+r[0]+" svelte-27u1na"),m(_,"type","result"),m(_,"class","btn"),m(e,"class","svelte-27u1na")},m(p,$){C(p,e,$),g(e,l),h&&h.m(l,null),g(e,a),K(i,e,null),g(e,u),g(e,_),g(_,n),s=!0,c||(f=J(_,"click",r[1]),c=!0)},p(p,$){N!==(N=I(p))&&(h&&h.d(1),h=N&&N(p),h&&(h.c(),h.m(l,null))),(!s||$&1&&t!==(t="__"+p[0]+" svelte-27u1na"))&&m(l,"class",t)},i(p){s||(w(i.$$.fragment,p),ae(()=>{o||(o=G(e,j,{},!0)),o.run(1)}),s=!0)},o(p){T(i.$$.fragment,p),o||(o=G(e,j,{},!1)),o.run(0),s=!1},d(p){p&&v(e),h&&h.d(),Y(i),p&&o&&o.end(),c=!1,f()}}}function Pe(r){let e;return{c(){e=D("\u062A\u0639\u0627\u062F\u0644")},l(l){e=F(l,"\u062A\u0639\u0627\u062F\u0644")},m(l,t){C(l,e,t)},d(l){l&&v(e)}}}function Se(r){let e;return{c(){e=D("\u0644\u0642\u062F \u062E\u0633\u0631\u062A !")},l(l){e=F(l,"\u0644\u0642\u062F \u062E\u0633\u0631\u062A !")},m(l,t){C(l,e,t)},d(l){l&&v(e)}}}function Oe(r){let e;return{c(){e=D("\u0644\u0642\u062F \u0641\u0632\u062A !")},l(l){e=F(l,"\u0644\u0642\u062F \u0641\u0632\u062A !")},m(l,t){C(l,e,t)},d(l){l&&v(e)}}}function Ae(r){let e,l,t=r[0]&&fe(r);return{c(){t&&t.c(),e=re()},l(a){t&&t.l(a),e=re()},m(a,i){t&&t.m(a,i),C(a,e,i),l=!0},p(a,[i]){a[0]?t?(t.p(a,i),i&1&&w(t,1)):(t=fe(a),t.c(),w(t,1),t.m(e.parentNode,e)):t&&(ie(),T(t,1,1,()=>{t=null}),oe())},i(a){l||(w(t),l=!0)},o(a){T(t),l=!1},d(a){t&&t.d(a),a&&v(e)}}}function Be(r,e,l){let t;U(r,V,i=>l(0,t=i));function a(){se.reset(),L.set(!1),V.set(null)}return[t,a]}class Le extends Q{constructor(e){super(),X(this,e,Be,Ae,x,{})}}function _e(r,e,l){const t=r.slice();return t[7]=e[l],t[9]=l,t}function Ue(r){let e,l,t,a,i,u;e=new Le({});let _=r[0],n=[];for(let s=0;s<_.length;s+=1)n[s]=pe(_e(r,_,s));const o=s=>T(n[s],1,1,()=>{n[s]=null});return{c(){z(e.$$.fragment),l=O(),t=y("section");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){H(e.$$.fragment,s),l=A(s),t=k(s,"SECTION",{class:!0});var c=E(t);for(let f=0;f<n.length;f+=1)n[f].l(c);c.forEach(v),this.h()},h(){m(t,"class",a="grid "+(r[2]?"__blur":"")+" svelte-rdteue")},m(s,c){K(e,s,c),C(s,l,c),C(s,t,c);for(let f=0;f<n.length;f+=1)n[f].m(t,null);u=!0},p(s,c){if(c&25){_=s[0];let f;for(f=0;f<_.length;f+=1){const I=_e(s,_,f);n[f]?(n[f].p(I,c),w(n[f],1)):(n[f]=pe(I),n[f].c(),w(n[f],1),n[f].m(t,null))}for(ie(),f=_.length;f<n.length;f+=1)o(f);oe()}(!u||c&4&&a!==(a="grid "+(s[2]?"__blur":"")+" svelte-rdteue"))&&m(t,"class",a)},i(s){if(!u){w(e.$$.fragment,s);for(let c=0;c<_.length;c+=1)w(n[c]);ae(()=>{i||(i=G(t,j,{},!0)),i.run(1)}),u=!0}},o(s){T(e.$$.fragment,s),n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)T(n[c]);i||(i=G(t,j,{},!1)),i.run(0),u=!1},d(s){Y(e,s),s&&v(l),s&&v(t),$e(n,s),s&&i&&i.end()}}}function De(r){let e,l;return e=new Ie({}),{c(){z(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,a){K(e,t,a),l=!0},p:W,i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){Y(e,t)}}}function pe(r){let e,l,t,a,i,u,_;return l=new Re({props:{sign:r[7]||""}}),{c(){e=y("button"),z(l.$$.fragment),t=O(),this.h()},l(n){e=k(n,"BUTTON",{class:!0,type:!0});var o=E(e);H(l.$$.fragment,o),t=A(o),o.forEach(v),this.h()},h(){m(e,"class","cell svelte-rdteue"),m(e,"type","button"),e.disabled=a=!!r[7]||r[3]},m(n,o){C(n,e,o),K(l,e,null),g(e,t),i=!0,u||(_=J(e,"click",r[4](r[9])),u=!0)},p(n,o){r=n;const s={};o&1&&(s.sign=r[7]||""),l.$set(s),(!i||o&9&&a!==(a=!!r[7]||r[3]))&&(e.disabled=a)},i(n){i||(w(l.$$.fragment,n),i=!0)},o(n){T(l.$$.fragment,n),i=!1},d(n){n&&v(e),Y(l),u=!1,_()}}}function Fe(r){let e,l,t,a;const i=[De,Ue],u=[];function _(n,o){return n[1]?0:1}return e=_(r),l=u[e]=i[e](r),{c(){l.c(),t=re()},l(n){l.l(n),t=re()},m(n,o){u[e].m(n,o),C(n,t,o),a=!0},p(n,[o]){let s=e;e=_(n),e===s?u[e].p(n,o):(ie(),T(u[s],1,1,()=>{u[s]=null}),oe(),l=u[e],l?l.p(n,o):(l=u[e]=i[e](n),l.c()),w(l,1),l.m(t.parentNode,t))},i(n){a||(w(l),a=!0)},o(n){T(l),a=!1},d(n){u[e].d(n),n&&v(t)}}}const ee="o",te="x";function de(r){return new Promise(e=>setTimeout(e,r))}function le(r){return Math.floor(Math.random()*r+1)}function Me(r,e,l){let t,a,i,u,_;U(r,se,s=>l(0,t=s)),U(r,ne,s=>l(5,a=s)),U(r,me,s=>l(1,i=s)),U(r,V,s=>l(2,u=s)),U(r,L,s=>l(3,_=s));const n=["012","345","678","036","147","258","048","246"];function o(s){return async()=>{L.set(!0),se.set(s,ee);const f=t.map((d,b)=>d===ee?b:null).filter(d=>d!==null),I=t.map((d,b)=>d===te?b:null).filter(d=>d!==null),N=Array.from(new Set([...f,...I])),h=new RegExp(`(${N.join("|")})`,"g"),p=n.filter(d=>h.test(d)).map(d=>d.replace(h,"")).join("").split("").map(d=>parseInt(d,10));let B={easy:()=>{let d=le(p.length-1);return p[d]},difficult:()=>{if(f.length===1){const b=[0,2,6,8];return f.includes(4)?b[le(b.length-1)]:4}let d=null;for(let b=0;b<n.length;b++){const M=n[b].split("").map(P=>parseInt(P,10));if(M.filter(P=>t[P]===te).length===2){const P=M.find(S=>t[S]===null);if(Number.isInteger(P)){d=P;break}}}if(d===null){for(let b=0;b<n.length;b++){const M=n[b].split("").map(S=>parseInt(S,10)),ue=M.filter(S=>t[S]===ee),P=M.filter(S=>t[S]===null);if(ue.length===2){const S=M.find(ve=>t[ve]===null);if(Number.isInteger(S)){d=S;break}}P.length===2&&(d=P[le(P.length-1)])}if(d===null){let b=le(p.length-1);return p[b]}}return d}}[a]();const R=n.some(d=>d.split("").every(b=>t[parseInt(b,10)]===ee));if(R)return await de(1e3),V.set("win"),L.set(!0),!0;await de(1e3),se.set(B,te);const q=n.some(d=>d.split("").every(b=>t[parseInt(b,10)]===te));return q?(V.set("lose"),L.set(!0),!0):!R&&!q&&t.every(d=>d!==null)?(V.set("draw"),L.set(!0),!0):(L.set(!1),!1)}}return[t,i,u,_,o]}class Ge extends Q{constructor(e){super(),X(this,e,Me,Fe,x,{})}}export{Ge as default};
